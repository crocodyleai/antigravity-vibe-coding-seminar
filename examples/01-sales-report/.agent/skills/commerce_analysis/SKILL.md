---
description: 커머스 주문 데이터(.csv) 전문 분석 및 인사이트 도출
---

# Commerce Order Analysis Skill

전문 데이터 분석가로서 주어진 커머스 주문 데이터(.csv)를 심층 분석합니다.
이 Skill은 **Cafe24/Naver Pay 스타일의 주문 데이터 스키마**에 최적화되어 있습니다.

## 1. 데이터 스키마 및 전처리 가이드 (Data Schema)

분석 전, 다음 컬럼 매핑 및 전처리를 우선 수행해야 합니다.

### 핵심 컬럼 매핑
-   **Order ID**: `주문번호` (Unique Identifier)
-   **Time**: `주문일시` (YYYY-MM-DD HH:MM:SS 날짜/시간 포맷 변환 필수)
-   **Customer**:
    -   `주문자ID` (회원/비회원 구분 Key. 비회원은 공란일 수 있음)
    -   `주문자명`
    -   `주문 시 회원등급` (VIP, 일반 등 등급 분석용)
    -   `주문자 가입일` (코호트 분석용)
    -   `주문자 생년월일` (연령대 분석용)
-   **Product**:
    -   `상품명(한국어 쇼핑몰)` / `주문상품명`
    -   `메인카테고리 이름`
    -   `옵션+판매가` / `수량`
-   **Financials**:
    -   `총 결제금액(KRW)` (실제 매출)
    -   `총 주문금액(KRW)` (할인 전 금액)
    -   `사용한 쿠폰명` (할인/프로모션 분석)
    -   `결제수단`
-   **Channel**: `매출경로`, `주문경로(PC/모바일)`

### 전처리 (Preprocessing) 주의사항
1.  **결측치 처리**: `주문자ID`가 없는 경우(네이버페이 등), `주문자명`+`전화번호`(없을 시 `주문번호`) 등을 조합하여 대체 식별자를 생성하거나 '비회원'으로 분류하십시오.
2.  **데이터 타입**: 금액 관련 컬럼은 문자열(콤마 포함)일 수 있으므로 반드시 `numeric`으로 변환하십시오.
3.  **날짜 변환**: `주문일시`, `가입일` 등을 `datetime` 객체로 변환하고 `Year`, `Month`, `Day`, `Weekday`, `Hour` 파생 변수를 생성하십시오.

## 2. 심층 분석 프레임워크 (Analysis Framework)

단순 통계를 넘어, 다음의 구조화된 분석을 수행합니다.

### A. 매출 및 주문 퀄리티 (Sales & Quality)
-   **트렌드**: 일별/주별 매출 추이 및 전월 대비 성장률(MOM).
-   **시간대 분석**: `주문일시`의 `Hour`를 분석하여 Peak Time 발굴 (마케팅 푸시 타임 최적화).
-   **객단가(AOV)**: `총 결제금액(KRW)` / 주문건수. 등급별 AOV 차이 비교.
-   **취소/반품**: `주문 상태` 컬럼 내 '취소', '반품', '환불' 비율 추적.

### B. 상품 및 카테고리 성과 (Product & Category)
-   **파레토 법칙**: 상위 20% 상품이 전체 매출의 몇 %를 차지하는가?
-   **카테고리**: `메인카테고리 이름`별 매출 비중 및 이익률 추정.
-   **번들링 기회**: 함께 주문된(`주문번호`가 같은) 상품 조합 분석 (장바구니 분석).

### C. 고객 세그먼트 및 코호트 (Customer & Cohort)
-   **회원 등급 분석**: `주문 시 회원등급`별 구매력 차이 (VIP vs 신규).
-   **연령대 분석**: `주문자 생년월일`을 기반으로 연령대(20대, 30대...) 파생 변수를 생성하여 타겟 연령층 파악.
-   **유입 채널**: `매출경로` (자사몰 vs 네이버페이 등) 및 `주문경로`(PC vs 모바일)별 효율 비교.
-   **가입 코호트**: `주문자 가입일` 기준으로 고객을 그룹화하여, 가입 시기별 현재 구매 활성도를 분석. (예: "오래된 고객이 여전히 구매하는가?")

### D. 프로모션 효율 (Promotion Impact)
-   **쿠폰 영향도**: `사용한 쿠폰명`이 있는 주문과 없는 주문의 AOV 및 구매 전환 비교.
-   **특정 쿠폰 성과**: 가장 매출 기여도가 높은 쿠폰 식별.

## 3. 시각화 가이드 (Visualization)

-   **Color Palette**: 기업 브랜드 컬러를 활용하거나, `seaborn`의 `pastel` 또는 `deep` 팔레트 사용 (가독성 필수).
-   **필수 차트**:
    -   *매출 트렌드*: Line Chart (일별)
    -   *카테고리 비중*: Pie or Donut Chart
    -   *요일/시간 히트맵*: Heatmap (요일 x 시간대 주문 량)
    -   *고객 연령대 분포*: Bar Chart
-   **Annotation**: 최고 매출일, 주요 이벤트 발생일에 반드시 텍스트로 설명을 달 것.

## 4. 결과물 형식

-   **Actionable Insight**: "30대 여성 고객의 모바일 구매 비중이 70%입니다" -> "모바일 페이지 UX를 30대 여성 타겟으로 개편하고, 모바일 전용 쿠폰을 발행해야 합니다."
